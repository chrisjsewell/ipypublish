{
  "$schema": "../schema/export_config.schema.json",
  "description": [
    "For use with the ipypublish.ipyshinx Sphinx extension (no initial notebook execution)",
    "- unlike the, conventional version, this does not output a file, ",
    "  and does not redirect/copy external files to the files_folder",
    "- execute the notebook",
    "- only output cells with metadata tags are used",
    "- code, figures, tables and code are formatted accordingly"
  ],
  "exporter": {
    "class": "nbconvert.exporters.RSTExporter",
    "filters": {
      "get_empty_lines": "ipypublish.filters.filters.get_empty_lines",
      "get_caption": "ipypublish.filters.filters.get_caption",
      "wrap_eqn": "ipypublish.filters.filters.wrap_eqn",
      "choose_output_type": "ipypublish.filters.rst_choose_output.choose_output_type",
      "ipypandoc": "ipypublish.filters_pandoc.main.jinja_filter",
      "is_equation": "ipypublish.filters.filters.is_equation",
      "basename": "ipypublish.filters.filters.basename",
      "strip_ext": "ipypublish.filters.filters.strip_ext"
    },
    "preprocessors": [
      {
        "class": "ipypublish.preprocessors.latex_doc_defaults.MetaDefaults",
        "args": {
          "cell_defaults": {
            "ipub": {
              "figure": {
                "placement": "H"
              },
              "table": {
                "placement": "H"
              },
              "equation": {
                "environment": "equation"
              },
              "text": true,
              "mkdown": true,
              "code": true,
              "error": true
            }
          },
          "nb_defaults": {
            "ipub": {
              "titlepage": {},
              "toc": true,
              "listfigures": true,
              "listtables": true,
              "listcode": true
            }
          }
        }
      },
      {
        "class": "ipypublish.preprocessors.skip_ignored.SkipIgnored",
        "args": {}
      },
      {
        "class": "ipypublish.preprocessors.split_outputs.SplitOutputs",
        "args": {
          "split": true
        }
      },
      {
        "class": "ipypublish.preprocessors.latex_doc_links.LatexDocLinks",
        "args": {
          "metapath": "${meta_path}",
          "filesfolder": "${files_path}",
          "redirect_external": false
        }
      },
      {
        "class": "ipypublish.preprocessors.latex_doc_captions.LatexCaptions",
        "args": {}
      }
    ],
    "other_args": {
      "ExecutePreprocessor": {
        "enabled": false
      }
    }
  },
  "template": {
    "outline": {
      "module": "ipypublish.templates.outline_schemas",
      "file": "rst_outline.rst.j2"
    },
    "segments": [
      {
        "module": "ipypublish.templates.segments",
        "file": "ipy-sphinx.yaml.j2"
      }
    ]
  },
  "postprocessors": {
    "order": [
      "remove-blank-lines",
      "remove-trailing-space",
      "filter-output-files",
      "remove-folder",
      "write-resource-files"
    ]
  }
}
